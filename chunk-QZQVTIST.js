import{P as h,a as r,b as s,k as a,r as n,s as d}from"./chunk-PRUGMS2J.js";var m=(()=>{let o=class o{constructor(){this.selectedModelState=new a({code:null,description:null,color:null}),this.selectedConfigState=new a({config:null,towHitch:null,yoke:null}),this.selectedModelState$=this.selectedModelState.asObservable(),this.selectedConfigState$=this.selectedConfigState.asObservable()}updateModelState(t){let e=this.selectedModelState.value;this.selectedModelState.next(s(r({},e),{code:t.code,description:t.description,color:t.color}))}updateConfigState(t){let e=this.selectedConfigState.value;this.selectedConfigState.next(s(r({},e),{config:t.config,towHitch:t.towHitch,yoke:t.yoke}))}updateSummary(){return d([this.selectedModelState$,this.selectedConfigState$]).pipe(n(([t,e])=>{let c={model:t,config:e,towHitchPrice:0,yokPrice:0,total:0},u=t?.color?.price||0,f=e?.config?.price||0,l=u+f;return e?.towHitch&&(c.towHitchPrice=1e3,l+=c.towHitchPrice),e?.yoke&&(c.yokPrice=1e3,l+=c.yokPrice),c.total=l,c}))}};o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();export{m as a};
