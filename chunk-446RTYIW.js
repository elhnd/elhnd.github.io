import{a as V}from"./chunk-6E776Z3T.js";import"./chunk-RMGOEPAL.js";import{b as T,c as w,d as D,e as g,f as G,g as I,h as R,i as k,j as O,k as B,l as $,m as j}from"./chunk-QUL6E34M.js";import{p as N}from"./chunk-ENHFV74K.js";import{$a as S,Ca as _,Ja as m,Ma as x,Na as F,Oa as p,Pa as f,Qa as u,Ra as l,Sa as i,Ua as y,V as s,X as M,Ya as b,Za as C,_a as n,aa as v,ba as h,fb as E,ya as c}from"./chunk-772RCOAV.js";function A(e,t){if(e&1&&(l(0,"option",6),n(1),i()),e&2){let r=t.$implicit;m("ngValue",r),c(1),S(r.description)}}function U(e,t){if(e&1&&(l(0,"option",6),n(1),i()),e&2){let r=t.$implicit;m("ngValue",r),c(1),S(r.description)}}function q(e,t){if(e&1){let r=y();l(0,"div",1)(1,"label",7),n(2,"Color :"),i(),l(3,"select",8),b("change",function(){v(r);let o=C();return h(o.updateSelectedModel())}),l(4,"option",4),n(5,"Select a color"),i(),f(6,U,2,2,"option",6,p),i()()}if(e&2){let r=C();c(6),u(r.selectedModel.colors)}}var X=(()=>{let t=class t{constructor(){this.carState=s(N),this.carService=s(V),this.destroyRef=s(_),this.modelForm=new D({selectedModel:new g(""),selectedColor:new g({value:"",disabled:!0})})}ngOnInit(){this.getModels()}getModels(){this.carService.getModels().pipe(j(this.destroyRef)).subscribe(a=>{this.models=a,this.modelForm.get("selectedModel").valueChanges.subscribe(o=>{this.selectedModel=o,o&&this.modelForm.get("selectedColor").enable()})})}updateSelectedModel(){let a=this.modelForm.value,o=a.selectedColor,d=a.selectedModel;this.carState.updateModelState({code:d.code,description:d.description,color:o})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=M({type:t,selectors:[["app-car-model"]],standalone:!0,features:[E],decls:13,vars:2,consts:[[3,"formGroup"],[1,"col-4"],["for","modelSelect",1,"fs-5"],["formControlName","selectedModel","id","modelSelect",1,"form-select","form-select-lg","mb-3","fs-5"],["selected",""],["class","col-4"],[3,"ngValue"],["for","colorSelect",1,"fs-5"],["formControlName","selectedColor","id","colorSelect",1,"form-select","form-select-lg","mb-3","fs-5",3,"change"]],template:function(o,d){o&1&&(l(0,"h2"),n(1,"Step 1: Choose your Tesla Model and Color"),i(),l(2,"div")(3,"form",0)(4,"div",1)(5,"label",2),n(6,"Model :"),i(),l(7,"select",3)(8,"option",4),n(9,"Select a model"),i(),f(10,A,2,2,"option",6,p),i()(),x(12,q,8,0,"div",5),i()()),o&2&&(c(3),m("formGroup",d.modelForm),c(7),u(d.models),c(2),F(12,d.selectedModel?12:-1))},dependencies:[$,G,O,B,k,T,w,I,R]});let e=t;return e})();export{X as CarModelComponent};
