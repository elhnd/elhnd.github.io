import{a as N}from"./chunk-DRT2HTDV.js";import"./chunk-H7SAYUOL.js";import{b as V,c as w,d as D,e as g,f as G,g as I,h as R,i as k,j as O,k as B,l as $,m as j}from"./chunk-I6JJPZMQ.js";import{p as E}from"./chunk-FYC3RX56.js";import{$a as C,Ca as _,Ja as m,Ma as x,Na as F,Oa as p,Pa as f,Qa as u,Ra as n,Sa as i,Ua as y,V as c,X as M,Ya as T,Za as S,_a as r,aa as v,ba as h,fb as b,ya as a}from"./chunk-772RCOAV.js";function A(e,t){if(e&1&&(n(0,"option",6),r(1),i()),e&2){let l=t.$implicit;m("ngValue",l),a(1),C(l.description)}}function U(e,t){if(e&1&&(n(0,"option",6),r(1),i()),e&2){let l=t.$implicit;m("ngValue",l),a(1),C(l.description)}}function q(e,t){if(e&1){let l=y();n(0,"div",1)(1,"label",7),r(2,"Color :"),i(),n(3,"select",8),T("change",function(){v(l);let o=S();return h(o.updateSelectedModel())}),n(4,"option",4),r(5,"Select a color"),i(),f(6,U,2,2,"option",6,p),i()()}if(e&2){let l=S();a(6),u(l.selectedModel.colors)}}var X=(()=>{let t=class t{constructor(){this.teslaState=c(E),this.teslaService=c(N),this.destroyRef=c(_),this.modelForm=new D({selectedModel:new g(""),selectedColor:new g({value:"",disabled:!0})})}ngOnInit(){this.getModels()}getModels(){this.teslaService.getModels().pipe(j(this.destroyRef)).subscribe(s=>{this.models=s,this.modelForm.get("selectedModel").valueChanges.subscribe(o=>{this.selectedModel=o,o&&this.modelForm.get("selectedColor").enable()})})}updateSelectedModel(){let s=this.modelForm.value,o=s.selectedColor,d=s.selectedModel;this.teslaState.updateModelState({code:d.code,description:d.description,color:o})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=M({type:t,selectors:[["app-tesla-model"]],standalone:!0,features:[b],decls:13,vars:2,consts:[[3,"formGroup"],[1,"col-4"],["for","modelSelect",1,"fs-5"],["formControlName","selectedModel","id","modelSelect",1,"form-select","form-select-lg","mb-3","fs-5"],["selected",""],["class","col-4"],[3,"ngValue"],["for","colorSelect",1,"fs-5"],["formControlName","selectedColor","id","colorSelect",1,"form-select","form-select-lg","mb-3","fs-5",3,"change"]],template:function(o,d){o&1&&(n(0,"h2"),r(1,"Step 1: Choose your Model and Color"),i(),n(2,"div")(3,"form",0)(4,"div",1)(5,"label",2),r(6,"Model :"),i(),n(7,"select",3)(8,"option",4),r(9,"Select a model"),i(),f(10,A,2,2,"option",6,p),i()(),x(12,q,8,0,"div",5),i()()),o&2&&(a(3),m("formGroup",d.modelForm),a(7),u(d.models),a(2),F(12,d.selectedModel?12:-1))},dependencies:[$,G,O,B,k,V,w,I,R]});let e=t;return e})();export{X as TeslaModelComponent};
