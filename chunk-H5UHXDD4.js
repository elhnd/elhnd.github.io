import{b as T,c as w,d as D,e as g,f as G,g as I,h as R,i as k,j as O,k as B,l as $,m as j}from"./chunk-UGRKWFNB.js";import{a as V}from"./chunk-GSE7IEJU.js";import{a as N}from"./chunk-QZQVTIST.js";import{$ as v,Ba as _,Ia as m,La as x,Ma as F,Na as p,Oa as f,Pa as u,Qa as r,Ra as i,Ta as y,V as s,Va as b,Wa as C,X as M,Xa as n,Ya as S,aa as h,cb as E,xa as c}from"./chunk-PRUGMS2J.js";function A(e,t){if(e&1&&(r(0,"option",6),n(1),i()),e&2){let l=t.$implicit;m("ngValue",l),c(1),S(l.description)}}function U(e,t){if(e&1&&(r(0,"option",6),n(1),i()),e&2){let l=t.$implicit;m("ngValue",l),c(1),S(l.description)}}function q(e,t){if(e&1){let l=y();r(0,"div",1)(1,"label",7),n(2,"Color :"),i(),r(3,"select",8),b("change",function(){v(l);let o=C();return h(o.updateSelectedModel())}),r(4,"option",4),n(5,"Select a color"),i(),f(6,U,2,2,"option",6,p),i()()}if(e&2){let l=C();c(6),u(l.selectedModel.colors)}}var W=(()=>{let t=class t{constructor(){this.carState=s(N),this.carService=s(V),this.destroyRef=s(_),this.modelForm=new D({selectedModel:new g(""),selectedColor:new g({value:"",disabled:!0})})}ngOnInit(){this.getModels()}getModels(){this.carService.getModels().pipe(j(this.destroyRef)).subscribe(a=>{this.models=a,this.modelForm.get("selectedModel").valueChanges.subscribe(o=>{this.selectedModel=o,o&&this.modelForm.get("selectedColor").enable()})})}updateSelectedModel(){let a=this.modelForm.value,o=a.selectedColor,d=a.selectedModel;this.carState.updateModelState({code:d.code,description:d.description,color:o})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=M({type:t,selectors:[["app-car-model"]],standalone:!0,features:[E],decls:13,vars:2,consts:[[3,"formGroup"],[1,"col-4"],["for","modelSelect",1,"fs-5"],["formControlName","selectedModel","id","modelSelect",1,"form-select","form-select-lg","mb-3","fs-5"],["selected",""],["class","col-4"],[3,"ngValue"],["for","colorSelect",1,"fs-5"],["formControlName","selectedColor","id","colorSelect",1,"form-select","form-select-lg","mb-3","fs-5",3,"change"]],template:function(o,d){o&1&&(r(0,"h2"),n(1,"Step 1: Choose your Tesla Model and Color"),i(),r(2,"div")(3,"form",0)(4,"div",1)(5,"label",2),n(6,"Model :"),i(),r(7,"select",3)(8,"option",4),n(9,"Select a model"),i(),f(10,A,2,2,"option",6,p),i()(),x(12,q,8,0,"div",5),i()()),o&2&&(c(3),m("formGroup",d.modelForm),c(7),u(d.models),c(2),F(12,d.selectedModel?12:-1))},dependencies:[$,G,O,B,k,T,w,I,R]});let e=t;return e})();export{W as CarModelComponent};
